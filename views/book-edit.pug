doctype html
html
  head
    title Edit Book
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css")

    style.
      .shadow-neumorph {
        box-shadow: 8px 8px 16px #c5c5c5, -8px -8px 16px #ffffff;
      }
      .shadow-neumorph-inset {
        box-shadow: inset 6px 6px 12px #c5c5c5, inset -6px -6px 12px #ffffff;
      }

  body(class="bg-gray-200 min-h-screen text-gray-800 font-sans")
    main(class="w-[90vw] max-w-screen-md mx-auto p-8 shadow-neumorph rounded-xl bg-gray-200")
      h1(class="text-3xl font-bold mb-6 text-center") Edit Book

      form(action=`/books/${book.isbn}/update`, method="POST" class="space-y-4 needs-validation" novalidate)
        // ISBN (required)
        div(class="flex flex-col")
          label(for="isbn" class="mb-1 font-semibold") ISBN:
          input(type="text" name="isbn" id="isbn" value=book.isbn required pattern="^[0-9Xx-]+$" class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400 invalid:ring-red-400")

        // Title (required)
        div(class="flex flex-col")
          label(for="title" class="mb-1 font-semibold") Title:
          input(type="text" name="title" id="title" value=book.title required class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400 invalid:ring-red-400")

        // Subtitle
        div(class="flex flex-col")
          label(for="subtitle" class="mb-1 font-semibold") Subtitle:
          input(type="text" name="subtitle" id="subtitle" value=book.subtitle class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400")

        // Author (required)
        div(class="flex flex-col")
          label(for="author" class="mb-1 font-semibold") Author:
          input(type="text" name="author" id="author" value=book.author required class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400 invalid:ring-red-400")

        // Published (optional, type: date)
        div(class="flex flex-col")
          label(for="published" class="mb-1 font-semibold") Published:
          input(type="date" name="published" id="published" value=book.published class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400")

        // Publisher
        div(class="flex flex-col")
          label(for="publisher" class="mb-1 font-semibold") Publisher:
          input(type="text" name="publisher" id="publisher" value=book.publisher class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400")

        // Pages (optional, number >= 1)
        div(class="flex flex-col")
          label(for="pages" class="mb-1 font-semibold") Pages:
          input(type="number" name="pages" id="pages" min="1" value=book.pages class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400 invalid:ring-red-400")

        // Description (optional)
        div(class="flex flex-col")
          label(for="description" class="mb-1 font-semibold") Description:
          textarea(name="description" id="description" rows="4" class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset resize-none focus:outline-none focus:ring-2 focus:ring-blue-400")= book.description

        // Website (optional, must be valid URL)
        div(class="flex flex-col")
          label(for="website" class="mb-1 font-semibold") Website:
          input(type="url" name="website" id="website" value=book.website pattern="https?://.+" class="px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph-inset focus:outline-none focus:ring-2 focus:ring-blue-400 invalid:ring-red-400")

        // Submit
        div(class="text-center mt-4")
          button(type="submit" class="px-6 py-2 rounded-xl bg-blue-500 text-white shadow-md hover:bg-blue-600 transition") Update Book

        div(class="text-center")
        a(href="/books" class="inline-block mt-4 px-4 py-2 rounded-xl bg-gray-200 shadow-neumorph hover:shadow-neumorph-inset transition text-gray-700 no-underline")
          | &larr; Back to all books
